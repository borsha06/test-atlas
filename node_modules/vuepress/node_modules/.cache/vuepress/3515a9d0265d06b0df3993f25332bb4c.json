{"remainingRequest":"/media/itsd/ITSD/Projects/test/node_modules/vue-loader/lib/index.js??vue-loader-options!/media/itsd/ITSD/Projects/test/node_modules/vue-atlas/src/Select/VaSelect.vue?vue&type=script&lang=js&","dependencies":[{"path":"/media/itsd/ITSD/Projects/test/node_modules/vue-atlas/src/Select/VaSelect.vue","mtime":499162500000},{"path":"/media/itsd/ITSD/Projects/test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/itsd/ITSD/Projects/test/node_modules/babel-loader/lib/index.js","mtime":1526583314000},{"path":"/media/itsd/ITSD/Projects/test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/itsd/ITSD/Projects/test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport EventListener from '../utils/EventListener'\nimport validationMixin from '../Mixin/validationMixin'\nimport render from '../render.vue'\nimport validate from '../validate.vue'\nimport type from '../utils/type'\nimport localeMixin from '../Mixin/localeMixin.js'\n\nexport default {\n  name: 'VaSelect',\n  mixins: [validationMixin, localeMixin('VaSelect')],\n  props: {\n    readonly: {\n      type: Boolean,\n      default: false,\n      required: false,\n      note: 'Whether or not the select dropdown is readonly.'\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n      required: false,\n      note: 'Whether or not the select dropdown is disabled.'\n    },\n    showSelected: {\n      type: Boolean,\n      default: true,\n      required: false,\n      note: 'When this is false, selected items do not appear in the main select input element.'\n    },\n    inputPlaceholder: {\n      type: String,\n      default: '',\n      required: false,\n      note: 'If the \\'search\\' prop is passed, the inputPlaceholder prop allows you to specify a placeholder for the input that appears at the top of the dropdown list.'\n    },\n    size: {\n      type: String,\n      required: false,\n      note: 'The size of the select input.'\n    },\n    context: {\n\n    },\n    type: {\n      type: String,\n      default: 'default',\n      required: false,\n      note: 'The type of button to render as the Select button. See VaButton for possible values.'\n    },\n    options: {\n      type: Array,\n      default () {\n        return []\n      },\n      required: false,\n      note: 'Accepts an array of objects with value and label keys: { value: \\'apple\\', label: \\'Apple\\' }'\n    },\n    value: {\n    },\n    placeholder: {\n      type: String,\n      default: '',\n      required: false,\n      note: 'The placeholder for the select input.'\n    },\n    multiple: {\n      type: Boolean,\n      default: false,\n      required: false,\n      note: 'When true, multiple items can be selected at the same time.'\n    },\n    search: {\n      type: Boolean,\n      default: false,\n      required: false,\n      note: 'When true, a search input appears at the top of the item list. Items can be filtered using this search input.'\n    },\n    extra: {\n      type: Boolean,\n      default: false,\n      required: false,\n      note: 'When true, an input element will appear at the top of the item list. New items can be created using this input.'\n    },\n    limit: {\n      type: Number,\n      default: 1024,\n      required: false,\n      note: 'Allows you to set a maximum number of selected items.'\n    },\n    width: {\n      type: String\n    },\n    menuMaxHeight: {\n      type: Number,\n      default: 300,\n      required: false,\n      note: 'The maximum height of the dropdown menu.'\n    },\n    menuWidth: {\n      type: Number,\n      required: false\n    },\n    matchCase: {\n      type: Boolean,\n      default: false,\n      required: false,\n      note: 'When true, searches are case-sensitive.'\n    },\n    format: {\n      type: Function,\n      default (item) {\n        if (!item) item = { label: '' }\n        return item.label\n      }\n    },\n    noUncheck: {\n      type: Boolean,\n      default: false,\n      required: false,\n      note: 'When true, you cannot uncheck a checked element in a single select component.'\n    },\n    customValidate: {\n      type: Function\n    },\n    rules: {\n      type: Array\n    },\n    prefixCls: {\n      type: String,\n      default: 'va'\n    }\n  },\n  data () {\n    return {\n      validStatus: '',\n      searchText: '',\n      show: false,\n      showNotify: false,\n      currentValue: this.value,\n      currentOptions: this.options,\n      activeItemClass: this.prefixCls + '-select-item-active'\n    }\n  },\n  watch: {\n    value (val) {\n      if (this.inner) {\n        this.inner = false\n        return\n      }\n      this.inner = true\n      this.currentValue = val\n    },\n    options (val) {\n      this.currentOptions = val\n    },\n    currentValue (val) {\n      if (this.inner) {\n        this.inner = false\n        return\n      }\n      this.inner = true\n      this.$emit('input', val)\n      this.$emit('change', val)\n    },\n    multiple (val) {\n      if (val === false) {\n        if (Array.isArray(this.value) && this.value.length > 1) {\n          this.value = this.value[0]\n        }\n      }\n    }\n  },\n  components: {\n    render,\n    validate\n  },\n  computed: {\n    classObj () {\n      let {prefixCls, validStatus} = this\n      let klass = {}\n\n      klass[prefixCls + '-has-error'] = validStatus === 'error'\n      klass[prefixCls + '-has-success'] = validStatus === 'success'\n      klass[prefixCls + '-has-warn'] = validStatus === 'warn'\n\n      klass[prefixCls + '-btn-group'] = true\n      klass[prefixCls + '-select-group'] = true\n      klass[prefixCls + '-dropdown-con'] = true\n\n      return klass\n    },\n    filterOptions () {\n      return this.filter(this.currentOptions, this.searchText)\n    },\n    valueArray: {\n      get () {\n        var a\n        if (type.isArray(this.currentValue)) {\n          a = this.currentValue\n        } else {\n          a = [this.currentValue]\n        }\n        return this.findInOptions(a)\n      },\n      set (value) {\n        let self = this\n        if (this.multiple) {\n          let ret = []\n          for (let i = 0; i < value.length; i++) {\n            ret.push(value[i].value)\n          }\n          let timeout\n          if (timeout) clearTimeout(timeout)\n          if (ret.length > this.limit) {\n            this.showNotify = true\n            this.remove(value, this.limit)\n            timeout = setTimeout(() => {\n              self.showNotify = false\n            }, 1000)\n          } else {\n            this.currentValue = ret\n          }\n        } else {\n          this.currentValue = value[0] ? value[0].value : ''\n        }\n      }\n    },\n    allSelected () {\n      var options = this.filter(this.currentOptions, this.searchText)\n      var values = this.currentValue\n\n      if (!values || options.length !== values.length || options.length === 0) {\n        return false\n      }\n\n      for (var i = 0, l = options.length; i < l; i++) {\n        var value = options[i].value\n        if (values.indexOf(value) === -1) {\n          return false\n        }\n      }\n      return true\n    },\n    selectedItems () {\n      var ret = []\n      var a = this.valueArray\n\n      for (var i = 0; i < a.length; i++) {\n        ret.push(a[i])\n      }\n      return ret\n    },\n    showPlaceholder () {\n      if (type.isArray(this.currentValue)) {\n        return this.currentValue.length <= 0\n      } else {\n        return type.isNullOrUndefined(this.currentValue) || this.currentValue === ''\n      }\n    }\n  },\n  mounted () {\n    this.$nextTick(() => {\n      if (!this.currentOptions.length) {\n        var options = this.$refs.menu.querySelectorAll('.' + this.prefixCls + '-option')\n        var ret = []\n\n        for (var i = 0, l = options.length; i < l; i++) {\n          var value = options[i].getAttribute('value')\n          var label = options[i].innerHTML\n\n          ret.push({value: value, label: label})\n        }\n        this.currentOptions = ret\n      }\n      this._closeEvent = EventListener.listen(window, 'click', (e) => {\n        if (!this.$el.contains(e.target)) this.show = false\n      })\n    })\n  },\n  beforeDestroy () {\n    if (this._closeEvent) this._closeEvent.remove()\n  },\n  methods: {\n    filter (value, search) {\n      if (search === '') return value\n      var ret = []\n      for (var i = 0, l = value.length; i < l; i++) {\n        var v = value[i] && String(value[i].label).replace(/<.*?>/g, '')\n        var s = search\n\n        if (!this.matchCase) {\n          v = v.toLocaleLowerCase()\n          s = s.toLocaleLowerCase()\n        }\n\n        if (v !== '' && v.indexOf(s) > -1) {\n          ret.push(value[i])\n        }\n      }\n      return ret\n    },\n    selectAll () {\n      if (this.allSelected) {\n        this.valueArray = []\n      } else {\n        this.valueArray = this.filter(this.currentOptions, this.searchText)\n      }\n    },\n    addExtra () {\n      if (this.extra && this.searchText.replace(/\\s+$|^\\s+/g, '')) {\n        this.currentOptions.push({value: this.searchText, label: this.searchText})\n        this.add({value: this.searchText, label: this.searchText})\n        this.searchText = ''\n      }\n    },\n    findInOptions (a) {\n      var options = this.currentOptions\n      var ret = []\n\n      for (var i = 0; i < a.length; i++) {\n        var s = this.find(a[i], options)\n        s != null ? ret.push(s) : 0\n      }\n      return ret\n    },\n    find (v, array) {\n      var a = array || this.valueArray\n      for (var i = 0; i < a.length; i++) {\n        if (v === a[i].value) {\n          return a[i]\n        }\n      }\n      return null\n    },\n    findIndex (v, array) {\n      var a = array || this.valueArray\n      for (var i = 0; i < a.length; i++) {\n        if (v === a[i].value) {\n          return i\n        }\n      }\n      return -1\n    },\n    add (option) {\n      var a = this.valueArray.slice(0)\n      if (this.multiple) {\n        a.push(option)\n      } else {\n        a = [option]\n      }\n      this.valueArray = a\n    },\n    del (item) {\n      var index = this.findIndex(item.value)\n      this.remove(this.valueArray, index, 1)\n    },\n    remove (array, index, num) {\n      var a = array.slice(0)\n      num ? a.splice(index, num) : a.splice(index)\n      this.valueArray = a\n    },\n    select (option) {\n      var index = this.findIndex(option.value)\n      if (this.multiple) {\n        index === -1 ? this.add(option) : this.remove(this.valueArray, index, 1)\n      } else {\n        index === -1 ? this.valueArray = [option] : this.noUncheck ? this.valueArray = [option] : this.valueArray = []\n        this.show = false\n      }\n    },\n    toggleDropdown () {\n      if (!this.disabled && !this.readonly) {\n        this.show = !this.show\n      }\n    }\n  }\n}\n",{"version":3,"sources":["VaSelect.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"VaSelect.vue","sourceRoot":"node_modules/vue-atlas/src/Select","sourcesContent":["<template>\n  <div :class=\"classObj\">\n    <va-button\n      :type=\"type\"\n      :style=\"{width:width}\"\n      :disabled=\"disabled\"\n      :size=\"size\"\n      :class=\"[`${prefixCls}-dropdown-toggle`,\n               `${prefixCls}-select-btn`,\n               showSelected && multiple && value.length ? `${prefixCls}-select-multiple` : '',\n               show ? `${prefixCls}-select-btn-open` : '']\"\n      @click.native=\"toggleDropdown\">\n      <span v-if=\"showPlaceholder || !showSelected\" :class=\"`${prefixCls}-select-placeholder`\">{{placeholder}}</span>\n        <span v-if=\"showSelected\" style=\"display: flex;\">\n          <template v-for=\"(item, index) in selectedItems\" v-if=\"multiple\">\n            <!-- eslint-disable-next-line -->\n            <render\n              :key=\"index\"\n              @click.native.prevent.stop=\"del(item)\"\n              v-on:keyup.enter.native.prevent.stop=\"del(item)\"\n              :class=\"`${prefixCls}-selected-tag`\"\n              :context=\"context || $parent._self\"\n              tabindex=\"0\"\n              :template=\"format(item)\">\n            </render>\n          </template>\n          <template v-else>\n            <render :context=\"context || $parent._self\" :template=\"format(selectedItems[0])\"></render>\n          </template>\n        </span>\n      &nbsp;&nbsp;\n      <va-icon :type=\"show ? 'angle-up' : 'angle-down'\" ></va-icon>\n    </va-button>\n    <transition name=\"fadeDown\">\n      <ul\n        :style=\"{maxHeight: menuMaxHeight + 'px', width: menuWidth + 'px'}\"\n        :class=\"`${prefixCls}-dropdown-menu`\"\n        ref=\"menu\"\n        v-va-position=\"show\"\n        v-show=\"show\">\n          <li v-if=\"search\">\n            <input\n              :class=\"`${prefixCls}-select-search`\"\n              :placeholder=\"inputPlaceholder\"\n              v-model=\"searchText\"\n              @keydown.enter=\"addExtra\" />\n\n            <va-icon type=\"plus-square\" icon-style=\"solid\" v-if=\"extra\" @click.native=\"addExtra\"></va-icon>\n          </li>\n          <li v-if=\"multiple\" :class=\"`${prefixCls}-select-all`\">\n            <a @click.prevent=\"selectAll\">\n              {{getL('all')}}\n             <va-icon type=\"check\" color=\"#0052CC\" v-show=\"allSelected\" margin=\"5px 0 0 0\" size=\"10px\"></va-icon>\n            </a>\n          </li>\n\n          <template v-if=\"currentOptions.length\">\n            <!-- eslint-disable-next-line -->\n            <li v-for=\"(option, index) in filterOptions\"\n                :key=\"index\"\n                :value=\"option.value\"\n                style=\"position:relative\">\n              <a @click.prevent=\"select(option)\" v-if=\"findIndex(option.value) !== -1\" :class=\"`${prefixCls}-select-item-active`\">\n                <span v-html=\"option.label\"></span>\n                <!-- <va-icon type=\"check\" color=\"#0052CC\" v-show=\"findIndex(option.value) !== -1\"></va-icon> -->\n              </a>\n              <a @click.prevent=\"select(option)\" v-else>\n                <span v-html=\"option.label\"></span>\n              </a>\n            </li>\n          </template>\n          <slot v-else ></slot>\n        <div :class=\"`${prefixCls}-notify`\" v-show=\"showNotify\" transition=\"fadeDown\">Limit: {{limit}}</div>\n      </ul>\n    </transition>\n    <div class=\"clearfix\"></div>\n    <validate\n      :name=\"name\"\n      v-model=\"validStatus\"\n      :rules=\"rules\"\n      :custom-validate=\"customValidate\"\n      :current=\"value\">\n    </validate>\n  </div>\n</template>\n\n<script>\nimport EventListener from '../utils/EventListener'\nimport validationMixin from '../Mixin/validationMixin'\nimport render from '../render.vue'\nimport validate from '../validate.vue'\nimport type from '../utils/type'\nimport localeMixin from '../Mixin/localeMixin.js'\n\nexport default {\n  name: 'VaSelect',\n  mixins: [validationMixin, localeMixin('VaSelect')],\n  props: {\n    readonly: {\n      type: Boolean,\n      default: false,\n      required: false,\n      note: 'Whether or not the select dropdown is readonly.'\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n      required: false,\n      note: 'Whether or not the select dropdown is disabled.'\n    },\n    showSelected: {\n      type: Boolean,\n      default: true,\n      required: false,\n      note: 'When this is false, selected items do not appear in the main select input element.'\n    },\n    inputPlaceholder: {\n      type: String,\n      default: '',\n      required: false,\n      note: 'If the \\'search\\' prop is passed, the inputPlaceholder prop allows you to specify a placeholder for the input that appears at the top of the dropdown list.'\n    },\n    size: {\n      type: String,\n      required: false,\n      note: 'The size of the select input.'\n    },\n    context: {\n\n    },\n    type: {\n      type: String,\n      default: 'default',\n      required: false,\n      note: 'The type of button to render as the Select button. See VaButton for possible values.'\n    },\n    options: {\n      type: Array,\n      default () {\n        return []\n      },\n      required: false,\n      note: 'Accepts an array of objects with value and label keys: { value: \\'apple\\', label: \\'Apple\\' }'\n    },\n    value: {\n    },\n    placeholder: {\n      type: String,\n      default: '',\n      required: false,\n      note: 'The placeholder for the select input.'\n    },\n    multiple: {\n      type: Boolean,\n      default: false,\n      required: false,\n      note: 'When true, multiple items can be selected at the same time.'\n    },\n    search: {\n      type: Boolean,\n      default: false,\n      required: false,\n      note: 'When true, a search input appears at the top of the item list. Items can be filtered using this search input.'\n    },\n    extra: {\n      type: Boolean,\n      default: false,\n      required: false,\n      note: 'When true, an input element will appear at the top of the item list. New items can be created using this input.'\n    },\n    limit: {\n      type: Number,\n      default: 1024,\n      required: false,\n      note: 'Allows you to set a maximum number of selected items.'\n    },\n    width: {\n      type: String\n    },\n    menuMaxHeight: {\n      type: Number,\n      default: 300,\n      required: false,\n      note: 'The maximum height of the dropdown menu.'\n    },\n    menuWidth: {\n      type: Number,\n      required: false\n    },\n    matchCase: {\n      type: Boolean,\n      default: false,\n      required: false,\n      note: 'When true, searches are case-sensitive.'\n    },\n    format: {\n      type: Function,\n      default (item) {\n        if (!item) item = { label: '' }\n        return item.label\n      }\n    },\n    noUncheck: {\n      type: Boolean,\n      default: false,\n      required: false,\n      note: 'When true, you cannot uncheck a checked element in a single select component.'\n    },\n    customValidate: {\n      type: Function\n    },\n    rules: {\n      type: Array\n    },\n    prefixCls: {\n      type: String,\n      default: 'va'\n    }\n  },\n  data () {\n    return {\n      validStatus: '',\n      searchText: '',\n      show: false,\n      showNotify: false,\n      currentValue: this.value,\n      currentOptions: this.options,\n      activeItemClass: this.prefixCls + '-select-item-active'\n    }\n  },\n  watch: {\n    value (val) {\n      if (this.inner) {\n        this.inner = false\n        return\n      }\n      this.inner = true\n      this.currentValue = val\n    },\n    options (val) {\n      this.currentOptions = val\n    },\n    currentValue (val) {\n      if (this.inner) {\n        this.inner = false\n        return\n      }\n      this.inner = true\n      this.$emit('input', val)\n      this.$emit('change', val)\n    },\n    multiple (val) {\n      if (val === false) {\n        if (Array.isArray(this.value) && this.value.length > 1) {\n          this.value = this.value[0]\n        }\n      }\n    }\n  },\n  components: {\n    render,\n    validate\n  },\n  computed: {\n    classObj () {\n      let {prefixCls, validStatus} = this\n      let klass = {}\n\n      klass[prefixCls + '-has-error'] = validStatus === 'error'\n      klass[prefixCls + '-has-success'] = validStatus === 'success'\n      klass[prefixCls + '-has-warn'] = validStatus === 'warn'\n\n      klass[prefixCls + '-btn-group'] = true\n      klass[prefixCls + '-select-group'] = true\n      klass[prefixCls + '-dropdown-con'] = true\n\n      return klass\n    },\n    filterOptions () {\n      return this.filter(this.currentOptions, this.searchText)\n    },\n    valueArray: {\n      get () {\n        var a\n        if (type.isArray(this.currentValue)) {\n          a = this.currentValue\n        } else {\n          a = [this.currentValue]\n        }\n        return this.findInOptions(a)\n      },\n      set (value) {\n        let self = this\n        if (this.multiple) {\n          let ret = []\n          for (let i = 0; i < value.length; i++) {\n            ret.push(value[i].value)\n          }\n          let timeout\n          if (timeout) clearTimeout(timeout)\n          if (ret.length > this.limit) {\n            this.showNotify = true\n            this.remove(value, this.limit)\n            timeout = setTimeout(() => {\n              self.showNotify = false\n            }, 1000)\n          } else {\n            this.currentValue = ret\n          }\n        } else {\n          this.currentValue = value[0] ? value[0].value : ''\n        }\n      }\n    },\n    allSelected () {\n      var options = this.filter(this.currentOptions, this.searchText)\n      var values = this.currentValue\n\n      if (!values || options.length !== values.length || options.length === 0) {\n        return false\n      }\n\n      for (var i = 0, l = options.length; i < l; i++) {\n        var value = options[i].value\n        if (values.indexOf(value) === -1) {\n          return false\n        }\n      }\n      return true\n    },\n    selectedItems () {\n      var ret = []\n      var a = this.valueArray\n\n      for (var i = 0; i < a.length; i++) {\n        ret.push(a[i])\n      }\n      return ret\n    },\n    showPlaceholder () {\n      if (type.isArray(this.currentValue)) {\n        return this.currentValue.length <= 0\n      } else {\n        return type.isNullOrUndefined(this.currentValue) || this.currentValue === ''\n      }\n    }\n  },\n  mounted () {\n    this.$nextTick(() => {\n      if (!this.currentOptions.length) {\n        var options = this.$refs.menu.querySelectorAll('.' + this.prefixCls + '-option')\n        var ret = []\n\n        for (var i = 0, l = options.length; i < l; i++) {\n          var value = options[i].getAttribute('value')\n          var label = options[i].innerHTML\n\n          ret.push({value: value, label: label})\n        }\n        this.currentOptions = ret\n      }\n      this._closeEvent = EventListener.listen(window, 'click', (e) => {\n        if (!this.$el.contains(e.target)) this.show = false\n      })\n    })\n  },\n  beforeDestroy () {\n    if (this._closeEvent) this._closeEvent.remove()\n  },\n  methods: {\n    filter (value, search) {\n      if (search === '') return value\n      var ret = []\n      for (var i = 0, l = value.length; i < l; i++) {\n        var v = value[i] && String(value[i].label).replace(/<.*?>/g, '')\n        var s = search\n\n        if (!this.matchCase) {\n          v = v.toLocaleLowerCase()\n          s = s.toLocaleLowerCase()\n        }\n\n        if (v !== '' && v.indexOf(s) > -1) {\n          ret.push(value[i])\n        }\n      }\n      return ret\n    },\n    selectAll () {\n      if (this.allSelected) {\n        this.valueArray = []\n      } else {\n        this.valueArray = this.filter(this.currentOptions, this.searchText)\n      }\n    },\n    addExtra () {\n      if (this.extra && this.searchText.replace(/\\s+$|^\\s+/g, '')) {\n        this.currentOptions.push({value: this.searchText, label: this.searchText})\n        this.add({value: this.searchText, label: this.searchText})\n        this.searchText = ''\n      }\n    },\n    findInOptions (a) {\n      var options = this.currentOptions\n      var ret = []\n\n      for (var i = 0; i < a.length; i++) {\n        var s = this.find(a[i], options)\n        s != null ? ret.push(s) : 0\n      }\n      return ret\n    },\n    find (v, array) {\n      var a = array || this.valueArray\n      for (var i = 0; i < a.length; i++) {\n        if (v === a[i].value) {\n          return a[i]\n        }\n      }\n      return null\n    },\n    findIndex (v, array) {\n      var a = array || this.valueArray\n      for (var i = 0; i < a.length; i++) {\n        if (v === a[i].value) {\n          return i\n        }\n      }\n      return -1\n    },\n    add (option) {\n      var a = this.valueArray.slice(0)\n      if (this.multiple) {\n        a.push(option)\n      } else {\n        a = [option]\n      }\n      this.valueArray = a\n    },\n    del (item) {\n      var index = this.findIndex(item.value)\n      this.remove(this.valueArray, index, 1)\n    },\n    remove (array, index, num) {\n      var a = array.slice(0)\n      num ? a.splice(index, num) : a.splice(index)\n      this.valueArray = a\n    },\n    select (option) {\n      var index = this.findIndex(option.value)\n      if (this.multiple) {\n        index === -1 ? this.add(option) : this.remove(this.valueArray, index, 1)\n      } else {\n        index === -1 ? this.valueArray = [option] : this.noUncheck ? this.valueArray = [option] : this.valueArray = []\n        this.show = false\n      }\n    },\n    toggleDropdown () {\n      if (!this.disabled && !this.readonly) {\n        this.show = !this.show\n      }\n    }\n  }\n}\n</script>\n"]}]}