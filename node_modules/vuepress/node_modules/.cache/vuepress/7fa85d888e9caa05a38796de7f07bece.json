{"remainingRequest":"/media/itsd/ITSD/Projects/test/node_modules/babel-loader/lib/index.js??ref--3-1!/media/itsd/ITSD/Projects/test/node_modules/cache-loader/dist/cjs.js??ref--0-0!/media/itsd/ITSD/Projects/test/node_modules/vue-loader/lib/index.js??vue-loader-options!/media/itsd/ITSD/Projects/test/node_modules/vue-atlas/src/Select/VaSelect.vue?vue&type=script&lang=js&","dependencies":[{"path":"/media/itsd/ITSD/Projects/test/node_modules/vue-atlas/src/Select/VaSelect.vue","mtime":499162500000},{"path":"/media/itsd/ITSD/Projects/test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/itsd/ITSD/Projects/test/node_modules/babel-loader/lib/index.js","mtime":1526583314000},{"path":"/media/itsd/ITSD/Projects/test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/itsd/ITSD/Projects/test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find-index\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport EventListener from '../utils/EventListener';\nimport validationMixin from '../Mixin/validationMixin';\nimport render from '../render.vue';\nimport validate from '../validate.vue';\nimport type from '../utils/type';\nimport localeMixin from '../Mixin/localeMixin.js';\nexport default {\n  name: 'VaSelect',\n  mixins: [validationMixin, localeMixin('VaSelect')],\n  props: {\n    readonly: {\n      type: Boolean,\n      default: false,\n      required: false,\n      note: 'Whether or not the select dropdown is readonly.'\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n      required: false,\n      note: 'Whether or not the select dropdown is disabled.'\n    },\n    showSelected: {\n      type: Boolean,\n      default: true,\n      required: false,\n      note: 'When this is false, selected items do not appear in the main select input element.'\n    },\n    inputPlaceholder: {\n      type: String,\n      default: '',\n      required: false,\n      note: 'If the \\'search\\' prop is passed, the inputPlaceholder prop allows you to specify a placeholder for the input that appears at the top of the dropdown list.'\n    },\n    size: {\n      type: String,\n      required: false,\n      note: 'The size of the select input.'\n    },\n    context: {},\n    type: {\n      type: String,\n      default: 'default',\n      required: false,\n      note: 'The type of button to render as the Select button. See VaButton for possible values.'\n    },\n    options: {\n      type: Array,\n      default: function _default() {\n        return [];\n      },\n      required: false,\n      note: 'Accepts an array of objects with value and label keys: { value: \\'apple\\', label: \\'Apple\\' }'\n    },\n    value: {},\n    placeholder: {\n      type: String,\n      default: '',\n      required: false,\n      note: 'The placeholder for the select input.'\n    },\n    multiple: {\n      type: Boolean,\n      default: false,\n      required: false,\n      note: 'When true, multiple items can be selected at the same time.'\n    },\n    search: {\n      type: Boolean,\n      default: false,\n      required: false,\n      note: 'When true, a search input appears at the top of the item list. Items can be filtered using this search input.'\n    },\n    extra: {\n      type: Boolean,\n      default: false,\n      required: false,\n      note: 'When true, an input element will appear at the top of the item list. New items can be created using this input.'\n    },\n    limit: {\n      type: Number,\n      default: 1024,\n      required: false,\n      note: 'Allows you to set a maximum number of selected items.'\n    },\n    width: {\n      type: String\n    },\n    menuMaxHeight: {\n      type: Number,\n      default: 300,\n      required: false,\n      note: 'The maximum height of the dropdown menu.'\n    },\n    menuWidth: {\n      type: Number,\n      required: false\n    },\n    matchCase: {\n      type: Boolean,\n      default: false,\n      required: false,\n      note: 'When true, searches are case-sensitive.'\n    },\n    format: {\n      type: Function,\n      default: function _default(item) {\n        if (!item) item = {\n          label: ''\n        };\n        return item.label;\n      }\n    },\n    noUncheck: {\n      type: Boolean,\n      default: false,\n      required: false,\n      note: 'When true, you cannot uncheck a checked element in a single select component.'\n    },\n    customValidate: {\n      type: Function\n    },\n    rules: {\n      type: Array\n    },\n    prefixCls: {\n      type: String,\n      default: 'va'\n    }\n  },\n  data: function data() {\n    return {\n      validStatus: '',\n      searchText: '',\n      show: false,\n      showNotify: false,\n      currentValue: this.value,\n      currentOptions: this.options,\n      activeItemClass: this.prefixCls + '-select-item-active'\n    };\n  },\n  watch: {\n    value: function value(val) {\n      if (this.inner) {\n        this.inner = false;\n        return;\n      }\n\n      this.inner = true;\n      this.currentValue = val;\n    },\n    options: function options(val) {\n      this.currentOptions = val;\n    },\n    currentValue: function currentValue(val) {\n      if (this.inner) {\n        this.inner = false;\n        return;\n      }\n\n      this.inner = true;\n      this.$emit('input', val);\n      this.$emit('change', val);\n    },\n    multiple: function multiple(val) {\n      if (val === false) {\n        if (Array.isArray(this.value) && this.value.length > 1) {\n          this.value = this.value[0];\n        }\n      }\n    }\n  },\n  components: {\n    render: render,\n    validate: validate\n  },\n  computed: {\n    classObj: function classObj() {\n      var prefixCls = this.prefixCls,\n          validStatus = this.validStatus;\n      var klass = {};\n      klass[prefixCls + '-has-error'] = validStatus === 'error';\n      klass[prefixCls + '-has-success'] = validStatus === 'success';\n      klass[prefixCls + '-has-warn'] = validStatus === 'warn';\n      klass[prefixCls + '-btn-group'] = true;\n      klass[prefixCls + '-select-group'] = true;\n      klass[prefixCls + '-dropdown-con'] = true;\n      return klass;\n    },\n    filterOptions: function filterOptions() {\n      return this.filter(this.currentOptions, this.searchText);\n    },\n    valueArray: {\n      get: function get() {\n        var a;\n\n        if (type.isArray(this.currentValue)) {\n          a = this.currentValue;\n        } else {\n          a = [this.currentValue];\n        }\n\n        return this.findInOptions(a);\n      },\n      set: function set(value) {\n        var self = this;\n\n        if (this.multiple) {\n          var ret = [];\n\n          for (var i = 0; i < value.length; i++) {\n            ret.push(value[i].value);\n          }\n\n          var timeout;\n          if (timeout) clearTimeout(timeout);\n\n          if (ret.length > this.limit) {\n            this.showNotify = true;\n            this.remove(value, this.limit);\n            timeout = setTimeout(function () {\n              self.showNotify = false;\n            }, 1000);\n          } else {\n            this.currentValue = ret;\n          }\n        } else {\n          this.currentValue = value[0] ? value[0].value : '';\n        }\n      }\n    },\n    allSelected: function allSelected() {\n      var options = this.filter(this.currentOptions, this.searchText);\n      var values = this.currentValue;\n\n      if (!values || options.length !== values.length || options.length === 0) {\n        return false;\n      }\n\n      for (var i = 0, l = options.length; i < l; i++) {\n        var value = options[i].value;\n\n        if (values.indexOf(value) === -1) {\n          return false;\n        }\n      }\n\n      return true;\n    },\n    selectedItems: function selectedItems() {\n      var ret = [];\n      var a = this.valueArray;\n\n      for (var i = 0; i < a.length; i++) {\n        ret.push(a[i]);\n      }\n\n      return ret;\n    },\n    showPlaceholder: function showPlaceholder() {\n      if (type.isArray(this.currentValue)) {\n        return this.currentValue.length <= 0;\n      } else {\n        return type.isNullOrUndefined(this.currentValue) || this.currentValue === '';\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      if (!_this.currentOptions.length) {\n        var options = _this.$refs.menu.querySelectorAll('.' + _this.prefixCls + '-option');\n\n        var ret = [];\n\n        for (var i = 0, l = options.length; i < l; i++) {\n          var value = options[i].getAttribute('value');\n          var label = options[i].innerHTML;\n          ret.push({\n            value: value,\n            label: label\n          });\n        }\n\n        _this.currentOptions = ret;\n      }\n\n      _this._closeEvent = EventListener.listen(window, 'click', function (e) {\n        if (!_this.$el.contains(e.target)) _this.show = false;\n      });\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (this._closeEvent) this._closeEvent.remove();\n  },\n  methods: {\n    filter: function filter(value, search) {\n      if (search === '') return value;\n      var ret = [];\n\n      for (var i = 0, l = value.length; i < l; i++) {\n        var v = value[i] && String(value[i].label).replace(/<.*?>/g, '');\n        var s = search;\n\n        if (!this.matchCase) {\n          v = v.toLocaleLowerCase();\n          s = s.toLocaleLowerCase();\n        }\n\n        if (v !== '' && v.indexOf(s) > -1) {\n          ret.push(value[i]);\n        }\n      }\n\n      return ret;\n    },\n    selectAll: function selectAll() {\n      if (this.allSelected) {\n        this.valueArray = [];\n      } else {\n        this.valueArray = this.filter(this.currentOptions, this.searchText);\n      }\n    },\n    addExtra: function addExtra() {\n      if (this.extra && this.searchText.replace(/\\s+$|^\\s+/g, '')) {\n        this.currentOptions.push({\n          value: this.searchText,\n          label: this.searchText\n        });\n        this.add({\n          value: this.searchText,\n          label: this.searchText\n        });\n        this.searchText = '';\n      }\n    },\n    findInOptions: function findInOptions(a) {\n      var options = this.currentOptions;\n      var ret = [];\n\n      for (var i = 0; i < a.length; i++) {\n        var s = this.find(a[i], options);\n        s != null ? ret.push(s) : 0;\n      }\n\n      return ret;\n    },\n    find: function find(v, array) {\n      var a = array || this.valueArray;\n\n      for (var i = 0; i < a.length; i++) {\n        if (v === a[i].value) {\n          return a[i];\n        }\n      }\n\n      return null;\n    },\n    findIndex: function findIndex(v, array) {\n      var a = array || this.valueArray;\n\n      for (var i = 0; i < a.length; i++) {\n        if (v === a[i].value) {\n          return i;\n        }\n      }\n\n      return -1;\n    },\n    add: function add(option) {\n      var a = this.valueArray.slice(0);\n\n      if (this.multiple) {\n        a.push(option);\n      } else {\n        a = [option];\n      }\n\n      this.valueArray = a;\n    },\n    del: function del(item) {\n      var index = this.findIndex(item.value);\n      this.remove(this.valueArray, index, 1);\n    },\n    remove: function remove(array, index, num) {\n      var a = array.slice(0);\n      num ? a.splice(index, num) : a.splice(index);\n      this.valueArray = a;\n    },\n    select: function select(option) {\n      var index = this.findIndex(option.value);\n\n      if (this.multiple) {\n        index === -1 ? this.add(option) : this.remove(this.valueArray, index, 1);\n      } else {\n        index === -1 ? this.valueArray = [option] : this.noUncheck ? this.valueArray = [option] : this.valueArray = [];\n        this.show = false;\n      }\n    },\n    toggleDropdown: function toggleDropdown() {\n      if (!this.disabled && !this.readonly) {\n        this.show = !this.show;\n      }\n    }\n  }\n};",{"version":3,"sources":["VaSelect.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div :class=\"classObj\">\n    <va-button\n      :type=\"type\"\n      :style=\"{width:width}\"\n      :disabled=\"disabled\"\n      :size=\"size\"\n      :class=\"[`${prefixCls}-dropdown-toggle`,\n               `${prefixCls}-select-btn`,\n               showSelected && multiple && value.length ? `${prefixCls}-select-multiple` : '',\n               show ? `${prefixCls}-select-btn-open` : '']\"\n      @click.native=\"toggleDropdown\">\n      <span v-if=\"showPlaceholder || !showSelected\" :class=\"`${prefixCls}-select-placeholder`\">{{placeholder}}</span>\n        <span v-if=\"showSelected\" style=\"display: flex;\">\n          <template v-for=\"(item, index) in selectedItems\" v-if=\"multiple\">\n            <!-- eslint-disable-next-line -->\n            <render\n              :key=\"index\"\n              @click.native.prevent.stop=\"del(item)\"\n              v-on:keyup.enter.native.prevent.stop=\"del(item)\"\n              :class=\"`${prefixCls}-selected-tag`\"\n              :context=\"context || $parent._self\"\n              tabindex=\"0\"\n              :template=\"format(item)\">\n            </render>\n          </template>\n          <template v-else>\n            <render :context=\"context || $parent._self\" :template=\"format(selectedItems[0])\"></render>\n          </template>\n        </span>\n      &nbsp;&nbsp;\n      <va-icon :type=\"show ? 'angle-up' : 'angle-down'\" ></va-icon>\n    </va-button>\n    <transition name=\"fadeDown\">\n      <ul\n        :style=\"{maxHeight: menuMaxHeight + 'px', width: menuWidth + 'px'}\"\n        :class=\"`${prefixCls}-dropdown-menu`\"\n        ref=\"menu\"\n        v-va-position=\"show\"\n        v-show=\"show\">\n          <li v-if=\"search\">\n            <input\n              :class=\"`${prefixCls}-select-search`\"\n              :placeholder=\"inputPlaceholder\"\n              v-model=\"searchText\"\n              @keydown.enter=\"addExtra\" />\n\n            <va-icon type=\"plus-square\" icon-style=\"solid\" v-if=\"extra\" @click.native=\"addExtra\"></va-icon>\n          </li>\n          <li v-if=\"multiple\" :class=\"`${prefixCls}-select-all`\">\n            <a @click.prevent=\"selectAll\">\n              {{getL('all')}}\n             <va-icon type=\"check\" color=\"#0052CC\" v-show=\"allSelected\" margin=\"5px 0 0 0\" size=\"10px\"></va-icon>\n            </a>\n          </li>\n\n          <template v-if=\"currentOptions.length\">\n            <!-- eslint-disable-next-line -->\n            <li v-for=\"(option, index) in filterOptions\"\n                :key=\"index\"\n                :value=\"option.value\"\n                style=\"position:relative\">\n              <a @click.prevent=\"select(option)\" v-if=\"findIndex(option.value) !== -1\" :class=\"`${prefixCls}-select-item-active`\">\n                <span v-html=\"option.label\"></span>\n                <!-- <va-icon type=\"check\" color=\"#0052CC\" v-show=\"findIndex(option.value) !== -1\"></va-icon> -->\n              </a>\n              <a @click.prevent=\"select(option)\" v-else>\n                <span v-html=\"option.label\"></span>\n              </a>\n            </li>\n          </template>\n          <slot v-else ></slot>\n        <div :class=\"`${prefixCls}-notify`\" v-show=\"showNotify\" transition=\"fadeDown\">Limit: {{limit}}</div>\n      </ul>\n    </transition>\n    <div class=\"clearfix\"></div>\n    <validate\n      :name=\"name\"\n      v-model=\"validStatus\"\n      :rules=\"rules\"\n      :custom-validate=\"customValidate\"\n      :current=\"value\">\n    </validate>\n  </div>\n</template>\n\n<script>\nimport EventListener from '../utils/EventListener'\nimport validationMixin from '../Mixin/validationMixin'\nimport render from '../render.vue'\nimport validate from '../validate.vue'\nimport type from '../utils/type'\nimport localeMixin from '../Mixin/localeMixin.js'\n\nexport default {\n  name: 'VaSelect',\n  mixins: [validationMixin, localeMixin('VaSelect')],\n  props: {\n    readonly: {\n      type: Boolean,\n      default: false,\n      required: false,\n      note: 'Whether or not the select dropdown is readonly.'\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n      required: false,\n      note: 'Whether or not the select dropdown is disabled.'\n    },\n    showSelected: {\n      type: Boolean,\n      default: true,\n      required: false,\n      note: 'When this is false, selected items do not appear in the main select input element.'\n    },\n    inputPlaceholder: {\n      type: String,\n      default: '',\n      required: false,\n      note: 'If the \\'search\\' prop is passed, the inputPlaceholder prop allows you to specify a placeholder for the input that appears at the top of the dropdown list.'\n    },\n    size: {\n      type: String,\n      required: false,\n      note: 'The size of the select input.'\n    },\n    context: {\n\n    },\n    type: {\n      type: String,\n      default: 'default',\n      required: false,\n      note: 'The type of button to render as the Select button. See VaButton for possible values.'\n    },\n    options: {\n      type: Array,\n      default () {\n        return []\n      },\n      required: false,\n      note: 'Accepts an array of objects with value and label keys: { value: \\'apple\\', label: \\'Apple\\' }'\n    },\n    value: {\n    },\n    placeholder: {\n      type: String,\n      default: '',\n      required: false,\n      note: 'The placeholder for the select input.'\n    },\n    multiple: {\n      type: Boolean,\n      default: false,\n      required: false,\n      note: 'When true, multiple items can be selected at the same time.'\n    },\n    search: {\n      type: Boolean,\n      default: false,\n      required: false,\n      note: 'When true, a search input appears at the top of the item list. Items can be filtered using this search input.'\n    },\n    extra: {\n      type: Boolean,\n      default: false,\n      required: false,\n      note: 'When true, an input element will appear at the top of the item list. New items can be created using this input.'\n    },\n    limit: {\n      type: Number,\n      default: 1024,\n      required: false,\n      note: 'Allows you to set a maximum number of selected items.'\n    },\n    width: {\n      type: String\n    },\n    menuMaxHeight: {\n      type: Number,\n      default: 300,\n      required: false,\n      note: 'The maximum height of the dropdown menu.'\n    },\n    menuWidth: {\n      type: Number,\n      required: false\n    },\n    matchCase: {\n      type: Boolean,\n      default: false,\n      required: false,\n      note: 'When true, searches are case-sensitive.'\n    },\n    format: {\n      type: Function,\n      default (item) {\n        if (!item) item = { label: '' }\n        return item.label\n      }\n    },\n    noUncheck: {\n      type: Boolean,\n      default: false,\n      required: false,\n      note: 'When true, you cannot uncheck a checked element in a single select component.'\n    },\n    customValidate: {\n      type: Function\n    },\n    rules: {\n      type: Array\n    },\n    prefixCls: {\n      type: String,\n      default: 'va'\n    }\n  },\n  data () {\n    return {\n      validStatus: '',\n      searchText: '',\n      show: false,\n      showNotify: false,\n      currentValue: this.value,\n      currentOptions: this.options,\n      activeItemClass: this.prefixCls + '-select-item-active'\n    }\n  },\n  watch: {\n    value (val) {\n      if (this.inner) {\n        this.inner = false\n        return\n      }\n      this.inner = true\n      this.currentValue = val\n    },\n    options (val) {\n      this.currentOptions = val\n    },\n    currentValue (val) {\n      if (this.inner) {\n        this.inner = false\n        return\n      }\n      this.inner = true\n      this.$emit('input', val)\n      this.$emit('change', val)\n    },\n    multiple (val) {\n      if (val === false) {\n        if (Array.isArray(this.value) && this.value.length > 1) {\n          this.value = this.value[0]\n        }\n      }\n    }\n  },\n  components: {\n    render,\n    validate\n  },\n  computed: {\n    classObj () {\n      let {prefixCls, validStatus} = this\n      let klass = {}\n\n      klass[prefixCls + '-has-error'] = validStatus === 'error'\n      klass[prefixCls + '-has-success'] = validStatus === 'success'\n      klass[prefixCls + '-has-warn'] = validStatus === 'warn'\n\n      klass[prefixCls + '-btn-group'] = true\n      klass[prefixCls + '-select-group'] = true\n      klass[prefixCls + '-dropdown-con'] = true\n\n      return klass\n    },\n    filterOptions () {\n      return this.filter(this.currentOptions, this.searchText)\n    },\n    valueArray: {\n      get () {\n        var a\n        if (type.isArray(this.currentValue)) {\n          a = this.currentValue\n        } else {\n          a = [this.currentValue]\n        }\n        return this.findInOptions(a)\n      },\n      set (value) {\n        let self = this\n        if (this.multiple) {\n          let ret = []\n          for (let i = 0; i < value.length; i++) {\n            ret.push(value[i].value)\n          }\n          let timeout\n          if (timeout) clearTimeout(timeout)\n          if (ret.length > this.limit) {\n            this.showNotify = true\n            this.remove(value, this.limit)\n            timeout = setTimeout(() => {\n              self.showNotify = false\n            }, 1000)\n          } else {\n            this.currentValue = ret\n          }\n        } else {\n          this.currentValue = value[0] ? value[0].value : ''\n        }\n      }\n    },\n    allSelected () {\n      var options = this.filter(this.currentOptions, this.searchText)\n      var values = this.currentValue\n\n      if (!values || options.length !== values.length || options.length === 0) {\n        return false\n      }\n\n      for (var i = 0, l = options.length; i < l; i++) {\n        var value = options[i].value\n        if (values.indexOf(value) === -1) {\n          return false\n        }\n      }\n      return true\n    },\n    selectedItems () {\n      var ret = []\n      var a = this.valueArray\n\n      for (var i = 0; i < a.length; i++) {\n        ret.push(a[i])\n      }\n      return ret\n    },\n    showPlaceholder () {\n      if (type.isArray(this.currentValue)) {\n        return this.currentValue.length <= 0\n      } else {\n        return type.isNullOrUndefined(this.currentValue) || this.currentValue === ''\n      }\n    }\n  },\n  mounted () {\n    this.$nextTick(() => {\n      if (!this.currentOptions.length) {\n        var options = this.$refs.menu.querySelectorAll('.' + this.prefixCls + '-option')\n        var ret = []\n\n        for (var i = 0, l = options.length; i < l; i++) {\n          var value = options[i].getAttribute('value')\n          var label = options[i].innerHTML\n\n          ret.push({value: value, label: label})\n        }\n        this.currentOptions = ret\n      }\n      this._closeEvent = EventListener.listen(window, 'click', (e) => {\n        if (!this.$el.contains(e.target)) this.show = false\n      })\n    })\n  },\n  beforeDestroy () {\n    if (this._closeEvent) this._closeEvent.remove()\n  },\n  methods: {\n    filter (value, search) {\n      if (search === '') return value\n      var ret = []\n      for (var i = 0, l = value.length; i < l; i++) {\n        var v = value[i] && String(value[i].label).replace(/<.*?>/g, '')\n        var s = search\n\n        if (!this.matchCase) {\n          v = v.toLocaleLowerCase()\n          s = s.toLocaleLowerCase()\n        }\n\n        if (v !== '' && v.indexOf(s) > -1) {\n          ret.push(value[i])\n        }\n      }\n      return ret\n    },\n    selectAll () {\n      if (this.allSelected) {\n        this.valueArray = []\n      } else {\n        this.valueArray = this.filter(this.currentOptions, this.searchText)\n      }\n    },\n    addExtra () {\n      if (this.extra && this.searchText.replace(/\\s+$|^\\s+/g, '')) {\n        this.currentOptions.push({value: this.searchText, label: this.searchText})\n        this.add({value: this.searchText, label: this.searchText})\n        this.searchText = ''\n      }\n    },\n    findInOptions (a) {\n      var options = this.currentOptions\n      var ret = []\n\n      for (var i = 0; i < a.length; i++) {\n        var s = this.find(a[i], options)\n        s != null ? ret.push(s) : 0\n      }\n      return ret\n    },\n    find (v, array) {\n      var a = array || this.valueArray\n      for (var i = 0; i < a.length; i++) {\n        if (v === a[i].value) {\n          return a[i]\n        }\n      }\n      return null\n    },\n    findIndex (v, array) {\n      var a = array || this.valueArray\n      for (var i = 0; i < a.length; i++) {\n        if (v === a[i].value) {\n          return i\n        }\n      }\n      return -1\n    },\n    add (option) {\n      var a = this.valueArray.slice(0)\n      if (this.multiple) {\n        a.push(option)\n      } else {\n        a = [option]\n      }\n      this.valueArray = a\n    },\n    del (item) {\n      var index = this.findIndex(item.value)\n      this.remove(this.valueArray, index, 1)\n    },\n    remove (array, index, num) {\n      var a = array.slice(0)\n      num ? a.splice(index, num) : a.splice(index)\n      this.valueArray = a\n    },\n    select (option) {\n      var index = this.findIndex(option.value)\n      if (this.multiple) {\n        index === -1 ? this.add(option) : this.remove(this.valueArray, index, 1)\n      } else {\n        index === -1 ? this.valueArray = [option] : this.noUncheck ? this.valueArray = [option] : this.valueArray = []\n        this.show = false\n      }\n    },\n    toggleDropdown () {\n      if (!this.disabled && !this.readonly) {\n        this.show = !this.show\n      }\n    }\n  }\n}\n</script>\n"],"sourceRoot":"node_modules/vue-atlas/src/Select"}]}